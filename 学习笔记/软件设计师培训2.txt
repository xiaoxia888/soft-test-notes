 文库帮手网 www.365xueyuan.com   免费帮下载 百度文库积分 资料
    本文由迷恋一生520贡献
    ppt文档可能在WAP端浏览体验不佳。建议您优先选择TXT，或下载源文件到本机查看。
    软件设计师培训
    软件设计师
    历年考试对本章内容的考查情况
    2004 考次 5月 月 分值 比重 6
    4%
    2005 5月 月 20 11月 月 20
    2006 5月 月 20 11月 月 20
    2007 5月 月 22 11月 月 20
    2008 5月 月 21
    14%
    2009 5月 月 21
    14%
    11月 月 20
    11月 月 21
    14%
    13.3% 13.3% 13.3% 13.3% 13.3% 14.7% 13.3%
    本章的重点程度：★★★★ 本章的重点程度：
    软件设计师
    2.数据库技术基础知识 2.数据库技术基础知识
    大纲要求： 大纲要求：
    数据库管理系统的功能和特征 数据库体系结构（概念模式、外模式、内模式） 数据库体系结构（概念模式、外模式、内模式） 数据模型，ER图 第一范式、第二范式、 数据模型，ER图，第一范式、第二范式、第三范式 数据操作（集合运算和关系运算） 数据操作（集合运算和关系运算） 数据库语言（SQL） 数据库语言（SQL） 数据库的控制功能（并发控制、恢复、安全性、完整性） 数据库的控制功能（并发控制、恢复、安全性、完整性） 数据仓库和分布式数据库基础知识
    软件设计师
    2.1 数据库系统的基本概念 DB、DBMS和DBS的定义 、 和 的定义
    DB (数据库 是长期存储在计算机内、有组织的、统一管 数据库) 数据库 是长期存储在计算机内、有组织的、 理的相关数据的集合。 理的相关数据的集合。 DBMS(数据库管理系统 是数据库系统中管理数据的软件 数据库管理系统)是数据库系统中管理数据的软件 数据库管理系统 系统。位于用户与操作系统之间的一层管理软件。 系统。位于用户与操作系统之间的一层管理软件。 DBS（数据库管理系统）在计算机系统中引入数据库后的 （数据库管理系统） 系统。是数据库、硬件、软件、 系统。是数据库、硬件、软件、数据库管理员及用户的集 合。
    软件设计师
    数据库管理系统的功能 1. 数据库的定义功能
    DBMS提供数据定义语言(DDL)定义数据库的三级结构 DBMS提供数据定义语言(DDL)定义数据库的三级结构 提供数据定义语言(DDL) 两级映象，定义数据的完整性、安全控制约束。 两级映象，定义数据的完整性、安全控制约束。
    2. 数据库的操作
    DBMS提供数据操作语言(DML)实现对数据库中数据的操 DBMS提供数据操作语言(DML)实现对数据库中数据的操 提供数据操作语言(DML) 作。基本数据操作有：检索(查询)、和更新(插入、删除、 基本数据操作有：检索(查询) 和更新(插入、删除、 修改) 修改)。
    软件设计师
    3. 数据库的保护功能
    DBMS对数据的保护主要通过四个方面实现， DBMS对数据的保护主要通过四个方面实现，因而 对数据的保护主要通过四个方面实现 DBMS中包括四个子系统。 DBMS中包括四个子系统。 中包括四个子系统 ? ? ? ? 数据库恢复 数据库的并发控制 数据库的完整性控制 数据库的安全性控制
    软件设计师
    4. 数据库存储管理
    DBMS的存储管理子系统提供了数据库中数据和应用程 DBMS的存储管理子系统提供了数据库中数据和应用程 序的一个界面，DBMS存储管理子系统的职责是把各种DML 序的一个界面，DBMS存储管理子系统的职责是把各种DML 存储管理子系统的职责是把各种 语句转换成底层的与磁盘中数据打交道的操作系统的文件 系统命令，起到数据的存储、检索和更新的作用。 系统命令，起到数据的存储、检索和更新的作用。
    软件设计师
    5.数据库的维护功能 5.数据库的维护功能
    ? ? ? 数据装载程序 备份程序 文件重组织程序 性能监控程序
    数据字典（DD） 6. 数据字典（DD）
    数据库系统中存放三级结构定义的数据库称为数据字 对数据库的操作都要通过访问DD才能实现。DD中还存 DD才能实现 典。对数据库的操作都要通过访问DD才能实现。DD中还存 放数据库运行的统计信息，例如记录个数、访问次数等。 放数据库运行的统计信息，例如记录个数、访问次数等。
    软件设计师
    【软件设计师考试2007年11月上午试题51】 软件设计师考试2007年11月上午试题51】 2007 月上午试题51 在数据库系统中， 在数据库系统中，数据的完整性约束的建立需要 通过数据库管理系统提供的（51）A 语言来实现。 通过数据库管理系统提供的（51） 语言来实现。 51） （51）A. 数据定义 C. 数据查询 B. 数据操作 D. 数据控制
    软件设计师
    数据库系统的体系结构― 2.2 数据库系统的体系结构―三级结构两级映象 三级结构：外模式、概念模式、 三级结构：外模式、概念模式、内模式 两级映象：外模式/模式映象、模式/ 两级映象：外模式/模式映象、模式/内模式映象
    软件设计师
    三级结构： 三级结构： 外模式：单个用户使用到的那部分数据的描述。 外模式：单个用户使用到的那部分数据的描述。 概念模式：是用户定义的数据库中全部数据逻辑 概念模式： 结构的描述。 结构的描述。 内模式：是数据库在物理存储方面的描述， 内模式：是数据库在物理存储方面的描述，接近 于物理存储设备，涉及到实际数据存储的结构。 于物理存储设备，涉及到实际数据存储的结构。
    软件设计师
    软件设计师
    软件设计师
    两级映象 模式／内模式映象：存在于概念级和内部级之间， 模式／内模式映象：存在于概念级和内部级之间， 用于定义概念模式和内模式之间的对应性。 用于定义概念模式和内模式之间的对应性。 外模式／模式映象：存在于外部级和概念级之间， 外模式／模式映象：存在于外部级和概念级之间， 用于定义外模式和概念模式之间的对应性。 用于定义外模式和概念模式之间的对应性。
    软件设计师
    两级数据独立性
    数据独立性是指应用程序和数据库的数据结构之间相互 独立，不受影响。 独立，不受影响。 数据独立性分成物理数据独立性 逻辑数据独立性两个 物理数据独立性和 数据独立性分成物理数据独立性和逻辑数据独立性两个 级别。 级别。 物理数据独立性：数据的内模式修改，模式／ 物理数据独立性：数据的内模式修改，模式／内模式也 要进行相应的修改，但概念模式尽可能保持不变。 要进行相应的修改，但概念模式尽可能保持不变。 逻辑数据独立性：数据的概念模式修改，外模式／ 逻辑数据独立性：数据的概念模式修改，外模式／模式 也要进行相应的修改，但外模式尽可能保持不变。 也要进行相应的修改，但外模式尽可能保持不变。
    软件设计师 按用户的观点对 数据和信息建模的
    2.3 数据模型 数据模型:表示实体类型及实体间联系的模型. 数据模型:表示实体类型及实体间联系的模型. 根据模型应用的不同目的可以将模型化分为概念 根据模型应用的不同目的可以将模型化分为概念 数据模型和 数据模型和结构数据模型 ER模型 实体联系模型） 模型（ 概念模型 ― ER模型（实体联系模型） 结构数据模型 层次模型、网状模型、 层次模型、网状模型、关系模型
    按计算机的观点对 数据建模的，直接 数据建模的， 面向数据库的结构
    软件设计师
    概念模型 现实世界
    结构数据模型 机器世界
    信息世界
    软件设计师
    概念模型― ER模型（实体联系模型） 概念模型― ER模型（实体联系模型） 模型 实体间的联系： 实体间的联系：实体集内部以及实体集的联 系。包括一对一的联系、一对多的联系、多对 包括一对一的联系、一对多的联系、 多的联系。 多的联系。 描述实体间联系的模型称为实体联系模型 描述实体间联系的模型称为实体联系模型 简称ER模型。 简称ER模型。 ER模型
    软件设计师
    学号
    姓名
    性别 年龄 学生
    m
    选修
    n
    课程
    课程号
    课程名
    学分
    软件设计师
    软件设计师
    1
    n 1
    n 1
    1
    n n 1 1 1 n n m
    n n
    软件设计师
    数据结构模型 数据库领域中常用的数据结构模型： 数据库领域中常用的数据结构模型： ? 层次模型 ? 网状模型 ? 关系模型
    软件设计师
    【软件设计师考试2009年5月上午试题51】 软件设计师考试2009年 月上午试题51】 2009 51
    采用二维表格结构表达实体类型及实体间联系的数据模 型是 （51） 。 51） （51）A. 层次模型 51） B. 网状模型 C. 关系模型 D. 面向对象模型
    软件设计师
    层次模型： 层次模型： 型结构表示实体类型及实体间联系的数据模型。 用树型结构表示实体类型及实体间联系的数据模型。
    R1 R2 R3
    特点： 特点：
    1.有且只有一个结点无父结点； 1.有且只有一个结点无父结点； 有且只有一个结点无父结点 2.其它结点有且只有一个父结点； 2.其它结点有且只有一个父结点； 其它结点有且只有一个父结点 3.适用于一对多的实体联系。 3.适用于一对多的实体联系。 适用于一对多的实体联系
    R4 R6
    R5 R7
    软件设计师
    层次模型的实例
    系 系编号 系名 办公地点
    教研室
    教研室编号
    教研室
    学生
    学号
    姓名
    成绩
    教师
    职工号
    姓名
    研究方向
    软件设计师
    网状模型： 网状模型： 有向图表示实体类型及实体间联系的数据模型 表示实体类型及实体间联系的数据模型. 用有向图表示实体类型及实体间联系的数据模型.
    R1 R2
    特点： 特点：
    1.任何一个结点可以有一个或一个以 1.任何一个结点可以有一个或一个以 上的父结点； 上的父结点； 2.任何一个结点可以没有父结点； 2.任何一个结点可以没有父结点； 任何一个结点可以没有父结点
    R3
    R4
    3.适用于多对多的实体联系。 3.适用于多对多的实体联系。 适用于多对多的实体联系
    软件设计师
    网状模型的实例
    学生 学号 姓名 系别 课程 课程号 课程名 学分
    选课
    课程号
    课程名
    学分
    软件设计师
    关系模型： 关系模型： 用二维表 用二维表格结构表达实体间的联系的数据模型
    学号
    2007842501 2007842502 2007842503 ……
    姓名
    张三 李四 王五 ……
    性别
    男 女 男 ……
    出生日期
    1985.9.4 1984.11.26 1985.4.20 ……
    籍贯
    山西 江苏 河北 ……
    所在系
    信息工程 财务管理 电子商务 ……
    相片
    1.jpg 2.jpg 3.jpg ……
    软件设计师
    关系模型中的基本术语: 关系模型中的基本术语: 关系：二维的数据表，它描述了实体之间的联系。 关系：二维的数据表，它描述了实体之间的联系。 元组（实体）：数据表中的每一行表示一个实体。 ）：数据表中的每一行表示一个实体 元组（实体）：数据表中的每一行表示一个实体。 属性（字段）：数据表中的每一列。 ）：数据表中的每一列 属性（字段）：数据表中的每一列。 属性的取值范围。 域：属性的取值范围。 关系模式：对关系的描述称为关系模式。 关系模式：对关系的描述称为关系模式。 关系名（属性名1 属性名2 ……，属性名n 关系名（属性名1，属性名2，……，属性名n）
    例：学生（学号，姓名，性别，出生日期，籍贯，所在系） 学生（学号，姓名，性别，出生日期，籍贯，所在系）
    软件设计师
    超键(超码) 在关系模式中，能唯一标识元组的属性集。 超键(超码)：在关系模式中，能唯一标识元组的属性集。这 个属性集可能含有多余的属性。 个属性集可能含有多余的属性。 候选键(候选码) 能唯一标识元组， 候选键(候选码)：能唯一标识元组，且又不含有多余的属性 一个属性集，即超键中删除多余属性剩下的属性集。 一个属性集，即超键中删除多余属性剩下的属性集。 主键(主码) 主键(主码)：从候选键中选择一个作为关系模式中用户使 用的候选键称为主键。 用的候选键称为主键。 例如：在关系模式（工号，姓名，年龄，性别，工资） 例如：在关系模式（工号，姓名，年龄，性别，工资） 工号，姓名）是关系的一个超键； （工号，姓名）是关系的一个超键； 工号）是候选键； （工号）是候选键； 工号）是主键。 （工号）是主键。
    软件设计师
    主属性：包含在任何候选键中的属性称为主属性。 主属性：包含在任何候选键中的属性称为主属性。不包含 在任何候选键中的属性称为非主属性。 在任何候选键中的属性称为非主属性。 外键（外码） 当关系R中的某个属性（或属性组） 外键（外码）：当关系R中的某个属性（或属性组）虽然不 是该关系的码，但却是另一个关系S的码，称该属性（ 是该关系的码，但却是另一个关系S的码，称该属性（或属 性组）为R关系的外键。 性组）关系的外键。 全键（全码） 全键（全码）：关系模型中所有属性都是这个关系的关键字 例：R（教师，课程，学生） 教师，课程，学生）
    软件设计师
    学生（学号，姓名，性别，年龄，系号） 例1：学生（学号，姓名，性别，年龄，系号） 系号，系名，系主任） 系（系号，系名，系主任）
    外键 外键
    例2：选课（学号，课程号，成绩） 选课（学号，课程号，成绩） 学生（学号， 姓名， 性别） 学生（学号， 姓名， 性别） 课程（课程号，课程名，学分） 课程（课程号，课程名，学分）
    软件设计师
    【软件设计师考试2004年5月上午试题17、18】 软件设计师考试2004年 月上午试题17、18】 2004 17 已知关系R如下表所示，关系R的主属性为（17） 已知关系R如下表所示，关系R的主属性为（17）D ，候 选关键字分别为 (18) D 。
    (17) A.ABC (18) A.ABC B.AB 、AD C.AC、AD和 C.AC、AD和CD D.AB、AD、BD的 D.AB、AD、BD的CD B.ABD C.ACD D.ABCD
    软件设计师
    软件设计师考试2004 11月上午试题42-44】 2004年 月上午试题42 【软件设计师考试2004年11月上午试题42-44】
    假定每一车次具有唯一的始发站和终点站。 假定每一车次具有唯一的始发站和终点站。如果实体 列车时刻表”属性为车次、始发站、发车时间、终点站、 “列车时刻表”属性为车次、始发站、发车时间、终点站、 到达时间， 如果实体“ 到达时间，该实体的主键是 (42) A ；如果实体“列车运行 属性为车次、日期、发车时间、到达时间， 表”属性为车次、日期、发车时间、到达时间，该实体的主 通常情况下，上述“列车时刻表” 键是(43) 键是(43) D 。通常情况下，上述“列车时刻表”和“列车 运行表” 联系。 运行表”两实体间 (44) C 联系。 (42)A.车次 B.始发站 B.始发站 C.发车时间 D.车次 车次， (42)A.车次 C.发车时间 D.车次，始发站 (43)A.车次 B.始发站 B.始发站 C.发车时间 D.车次 车次， (43)A.车次 C.发车时间 D.车次，日期 (44)A.不存在 B.存在一对一 (44)A.不存在 B.存在一对一 C.存在一对多 D.存在多对多 C.存在一对多 D.存在多对多
    软件设计师
    关系模型的完整性约束（数据完整性） 关系模型的完整性约束（数据完整性） 数据完整性是用来确保数据库中数据的正确性和可靠性 是用来确保数据库中数据的正确性和可靠性。 数据完整性是用来确保数据库中数据的正确性和可靠性。 数据完整性包括： 数据完整性包括： ? 实体完整性：主键的取值必须唯一，并且不能为空。 实体完整性：主键的取值必须唯一，并且不能为空。 必须唯一 不能为空 ? 域完整性：保证数据的取值在有效的范围内。 域完整性：保证数据的取值在有效的范围内。 数据的取值 的范围内 ? 参照完整性：参照完整性是通过主键和外键来保证相 参照完整性：参照完整性是通过主键 外键来保证相 主键和 关联的表间数据保持一致， 关联的表间数据保持一致，避免因一个表的数据修 数据保持一致 改，而导致关联生效。 而导致关联生效。
    软件设计师
    软件设计师考试2006 2006年 月上午试题48 48】 【软件设计师考试2006年5月上午试题48】
    某数据库中有： 某数据库中有： 员工关系E 员工编号，姓名，部门） 员工关系E（员工编号，姓名，部门） 产品关系P 产品编号，产品名称，型号，尺寸，颜色）； 产品关系P（产品编号，产品名称，型号，尺寸，颜色）； 仓库关系W 仓库编号，仓库名称，地址，负责人编号）； 仓库关系W（仓库编号，仓库名称，地址，负责人编号）； 库存关系I 仓库编号，产品编号和产品数量） 库存关系I（仓库编号，产品编号和产品数量） 若要求仓库关系的负责人引用员工关系的员工编号， 若要求仓库关系的负责人引用员工关系的员工编号， 员工关系E的员工编号、仓库关系W的仓库编号和产品关系P 员工关系E的员工编号、仓库关系W的仓库编号和产品关系P 的产品编号不能为空且惟一标识一个记录， 的产品编号不能为空且惟一标识一个记录，并且仓库的地址 不能为空， 48） 不能为空，则依次要满足的完整性约束是 （48） 。
    软件设计师
    实体完整性、参照完整性、 （48） A. 实体完整性、参照完整性、用户定义完整性 48） 参照完整性、实体完整性、 B. 参照完整性、实体完整性、用户定义完整性 用户定义完整性、实体完整性、 C. 用户定义完整性、实体完整性、参照完整性 实体完整性、用户定义完整性、 D. 实体完整性、用户定义完整性、参照完整性
    软件设计师
    软件设计师考试2006 2006年 月上午试题48 48】 【软件设计师考试2006年5月上午试题48】
    在数据库系统中， 在数据库系统中，数据的完整性约束的建立需要通过 数据库管理系统提供的（51） 语言来实现。 数据库管理系统提供的（51） 语言来实现。 （51）A. 数据定义 51） B. 数据操作 C. 数据查询 D. 数据控制
    软件设计师
    2.4 数据操作
    关系数据库的数据操作语言（DML） 关系数据库的数据操作语言（DML）的语句分成查询语句 和更新语句两大类。 和更新语句两大类。查询语句用于描述用户的各种检索要 求；更新语句用于描述用户进行插入、删除、修改等操作。 更新语句用于描述用户进行插入、删除、修改等操作。 关于查询的理论称为“关系运算理论” 关于查询的理论称为“关系运算理论”。 关系查询语言根据其理论基础的不同分成两大类： 关系查询语言根据其理论基础的不同分成两大类： 关系代数语言：查询操作是以集合操作为基础的DML语言。 关系代数语言：查询操作是以集合操作为基础的DML语言。 DML语言 关系演算语言：查询操作是以谓词演算为基础的DML语言。 关系演算语言：查询操作是以谓词演算为基础的DML语言。 DML语言
    软件设计师
    关系代数 ? 关系代数的五个基本操作
    ―― 并、差、笛卡尔积、投影、选择 笛卡尔积、投影、
    关系代数的四个组合操作 ―― 交、联接、自然连接、除法 联接、自然连接、 关系演算 ? 元组关系演算 ? 域关系演算
    软件设计师
    关系代数 ? 关系代数的五个基本操作
    （1）并（Union） Union） 设关系R 设关系R和S具有相同的关系模式，R和S的并是由属于R 具有相同的关系模式， 的并是由属于R 或属于S的元组构成的集合，记为R∪S。 或属于S的元组构成的集合，记为R∪S。 R∪S 形式定义如下： 形式定义如下： t∈S}， R∪S≡{t | t∈R ∨ t∈S}， t是元组变量，R和S的元数相同。 是元组变量， 的元数相同。
    软件设计师
    R
    S
    软件设计师
    （2）差（Difference） Difference） 设关系R 设关系R和S具有相同的关系模式，R和S的差是由属于R 具有相同的关系模式， 的差是由属于R 但不属于S的元组构成的集合，记为R 但不属于S的元组构成的集合，记为R－S。 形式定义如下： 形式定义如下： R－S≡{ t | t∈R ∧ t∈S}，R和S的元数相同。 t∈S}， 的元数相同。
    软件设计师
    R
    S
    软件设计师
    （3）笛卡尔积 设关系R 设关系R和S的元数分别为r和s。定义R和S的笛卡尔积 的元数分别为r 定义R 是一个（r+s）元的元组集合，每个元组的前r个分量（属 是一个（r+s）元的元组集合，每个元组的前r个分量（ 性值）来自R的一个元组， 个分量来自R的一个元组， 性值）来自R的一个元组，后s个分量来自R的一个元组， 记为R 记为R×S。 形式定义如下： 形式定义如下： R×S≡{ t |t=
    ∧tr∈R∧ts∈S} 若R有m个元组，S有n个元组，则R×S有m×n个元组。 个元组， 个元组， 个元组。
    软件设计师
    R
    S
    软件设计师
    （4）投影（Projection） 投影（Projection） 这个操作是对一个关系进行垂直分割，消去某些列， 这个操作是对一个关系进行垂直分割，消去某些列，并 重新安排列的顺序。 重新安排列的顺序。 设关系 R 是 k 元关系 ， R 在其分量 Ai1 ， …， Aim （ m≤k ， m≤k， ， 间的整数）上的投影用π i1 ，…，im为 1 到k 间的整数） 上的投影用πi1，…，im（R ）表 ， ， 示，它是一个m元元组集合， 它是一个m元元组集合， 形式定义如下： 形式定义如下： πi1，…，im(R)≡{ t| t＝〈ti1，…，tim〉∧〈t1，…，tk〉∈R } ＝ ， ， ， ， ，
    软件设计师
    例如， 表示关系R中取第1 例如，π3，1（R）表示关系R中取第1、3列，组成新 的关系，新关系中第1列为R的第3 新关系的第2 的关系，新关系中第1列为R的第3列，新关系的第2 列为R的第1 列为R的第1列。 如果R的每列标上属性名，那么操作符π 如果R的每列标上属性名，那么操作符π的下标 处也可以用属性名表示。例如，关系R 处也可以用属性名表示。例如，关系R（A，B，C）， 那么π 是等价的。 那么πC，A（R）与π3，1（R）是等价的。
    软件设计师
    R
    S
    软件设计师
    （5）选择（Selection） 选择（Selection） 选择操作是根据某些条件对关系做水平分割， 选择操作是根据某些条件对关系做水平分割，即选取 符合条件的元组。条件可用命题公式（ 符合条件的元组。条件可用命题公式（即计算机语言中的条 件表达式）F表示。 件表达式） 表示。 F中有两种成分：运算对象和运算符 中有两种成分： 形式定义如下： 形式定义如下： σF（R）＝{ t | t∈R ∧ F（t）= true } σ为选择运算符，σF（R）表示从R中挑选满足公式F为 为选择运算符， 表示从R中挑选满足公式F 真的元组所构成的关系。 真的元组所构成的关系。
    软件设计师
    例如， 表示从R中挑选第2 例如，σ2＞@3@（R）表示从R中挑选第2个分量值 大于3的元组所构成的关系。 大于3的元组所构成的关系。 常量用引号括起来， 常量用引号括起来，而属性序号或属性名不要用 引号括起来。 引号括起来。
    软件设计师
    R
    S
    软件设计师
    关系代数的四个组合操作
    （1）交（intersection） intersection） 关系R 关系R和S的交是由属于R又属于S的元组构成的集合，记 的交是由属于R又属于S的元组构成的集合， 为R∩S，这里要求R和S定义在相同的关系模式上。 R∩S，这里要求R 定义在相同的关系模式上。 形式定义如下： 形式定义如下： R∩S≡{t t∈S}， 的元数相同。 R∩S≡{tt∈R ∧ t∈S}，R和S的元数相同。
    软件设计师
    （2）连接（join） 连接（join） 连接有两种： 连接和F 连接有两种：θ连接和F连接 是算术比较符） ① θ连接 （θ是算术比较符） θ连接是从关系R和S的笛卡儿积中选取属性间满足某一 连接是从关系R 操作的元组, θ操作的元组, S≡{t R ? S≡{tt=
    ∧tr∈R∧ts∈S∧triθ tsj } iθj 因此,θ连接由笛卡尔积和选择操作组合而成。 因此,θ连接由笛卡尔积和选择操作组合而成。 ,θ连接由笛卡尔积和选择操作组合而成 R ? S≡ σiθ（r+j） （R×S） iθ（ r+j） iθj
    软件设计师
    是公式） ② F连接 （F是公式）
    F连接是从关系R和S的笛卡儿积中选取属性间满足某 连接是从关系R 一公式F的元组, 这里F是形为F1∧F2∧…∧Fn的公式，每 一公式F的元组, 这里F是形为F ∧F 的公式， 是形为iθj的式子， iθj的式子 分别为关系R 的第i 个FP是形为iθj的式子，而i和j分别为关系R和S的第i、 第j个分量的序号。 个分量的序号。
    软件设计师
    自然连接（ join） （3） 自然连接（natural join） 两个关系R 两个关系R和S的自然连接操作具体计算过程如下： 的自然连接操作具体计算过程如下： 计算R ① 计算R×S ； 的公共属性是A ,AK， ② 设R和S的公共属性是A1,…,AK，挑选R×S中满足 ,AK 挑选R =S. =S. 的那些元组； R.A1=S.A1，…，R.AK=S.AK的那些元组； ， 这些列。 ③去掉S.A1，…，S.AK这些列。 去掉S ， 形式定义如下： 形式定义如下： R?S ≡ πi1, ,im (σR.A1=S.A1∧…… i1,…,im
    ∧R.AK=S.AK
    (R× (R×S)),
    其中i 的全部属性，但公共属性只出现一次。 其中i1,…,im为R和S的全部属性，但公共属性只出现一次。 ,i 自然连接就是等值连接去掉重复列。
    软件设计师
    软件设计师考试2007 11月上午试题543、55】 2007年 月上午试题543 【软件设计师考试2007年11月上午试题543、55】
    关系R 54） 关系R、S如下图所示，R?S可由 （54）A 基本的关系运 如下图所示， 算组成， 55） 算组成，R?S = （55） 。 D
    54） π,σ和 （54）A. π,σ和× B. C. D. -,σ和× ,σ和 ∩,σ和 ∩,σ和× π,σ和 π,σ和∩
    软件设计师
    软件设计师
    （4）除法（division） 除法（division） 设关系R 设关系R和S的元数分别为r和s（设r>s>0），那么R÷S是 的元数分别为r r>s>0），那么R ），那么 一个（r-s）元的元组的集合。（R÷S）是满足下列条件的 一个（ 元的元组的集合。（R 。（ 最大关系：其中每个元组t与S中每个元组u组成的新元组<t， 最大关系：其中每个元组t 中每个元组u组成的新元组<t， <t u>必在关系R u>必在关系R中。 必在关系 R÷S≡π1,2, ,r-s(R)-π1,2,,，r-s((π1,2, ,r-s(R)×S)-R) 1,2,…,r (R),r1,2,,， 1,2,…,r (R)×S),r-
    软件设计师
    R
    A a a a b e e B b b b c d d C c e d e c e D d f e f d f C c e
    S
    D d f
    R÷S ÷
    A a e B b d
    先列出R ① 先列出R-S的属性 属性值A 同时满足S 的元组。 ② 属性值A、B同时满足S中（c，d）和（e，f）的元组。
    软件设计师
    例：选修了所有课程的学生的学号和姓名。 选修了所有课程的学生的学号和姓名。
    选修表
    S# C# c1 c2 c2 c1 c2 c1 c1 c2
    课程 C#
    选修表÷ 选修表÷课程
    S#
    s1 s1 s2 s3 s3 s4
    s1 s3
    软件设计师
    例：检索所学课程包含学生s1所学课程的学生学号。 检索所学课程包含学生s1所学课程的学生学号。 s1所学课程的学生学号
    选修表
    S# C# c1 c2 c4 c1 c2 c1 c3 Grade 90 85 76 68 65 70 86
    课程 C#
    c1 c2 c3 c4
    s1 s1 s2 s3 s3 s4 s4
    Cname
    数据库 英语 高数 体育
    S#
    s1 s3
    πs#，c#(选修表 ÷ πc# (σs#=@s1@ (选修表 选修表)÷ 选修表)) 选修表 ， @ @ 选修表
    软件设计师
    软件设计师考试2005 11月上午试题33、34】 2005年 月上午试题33 【软件设计师考试2005年11月上午试题33、34】
    在关系代数运算中， SP和 如下表所示。 在关系代数运算中，关系 S、SP和R如下表所示。若 先 (33) ，则可以从 S 和 SP 获得 R 。其对应的 关系表达式为 (34) 。 SP R S
    部门号 010 010 010 021 025 035 商品号 销售量 500 780 990 580 1290 4680 部门号 010 021 030 035 部门名 家电部 百货部 食品部 五金部 部门名 商品号 01020210 01020211 01020212 02110200 02520100 03530311 家电部 01020210 家电部 01020211 家电部 01020212
    销售量 500 780 990
    软件设计师
    (33)A.对 进行选择运算， (33)A.对 S 进行选择运算，再与 S 进行自然连接运算 B.对 进行选择运算， 进行自然连接运算， B.对 S 进行选择运算，再与 SP 进行自然连接运算，最 后进行投影运算 C.对 进行笛卡尔积运算， C.对 S 和 SP 进行笛卡尔积运算，再对运算结果进行投 影运算 D.分别对 进行投影运算， D.分别对 S 和 SP 进行投影运算，再对运算结果进行 笛卡尔积运算
    软件设计师
    的部门号。 如下的 SQL 语句可以查询销售总量大于 1000 的部门号。 Select 部门名 From S Where 部门号 in (Select 部门号 From SP Group by (35)) (35) A. 部门号 where sum( 销售量 )>1000 B. 部门号 having sum( 销售量 )>1000 C. 商品号 where sum( 销售量 )>1000 D. 商品号 having sum( 销售量 )>1000
    软件设计师
    【软件设计师考试2006年5月上午试题47】 软件设计师考试2006年 月上午试题47】 2006 47
    设有关系R 设有关系R、S如下所示，则关系代数表达式R÷S的结果 如下所示，则关系代数表达式R 集为（47） 集为（47） C。 R S
    软件设计师
    关系演算 ? 元组关系演算
    在元组关系演算中， 在元组关系演算中，元组关系演算表达式简称为元组表 达式，其一般形式为： 达式，其一般形式为： t|P（ { t|P（t）} 其中， 是元组变量，表示一个元数固定的元组； 其中，t是元组变量，表示一个元数固定的元组；P是 公式，在数理逻辑中也称为谓词， 公式，在数理逻辑中也称为谓词，也就是计算机语言中的条 件表达式。 t|P（ 表示满足公式P的所有元组t 件表达式。{ t|P（t）}表示满足公式P的所有元组t的集 合。
    软件设计师
    在元组表达式中，公式由原子公式组成。 在元组表达式中，公式由原子公式组成。 原子公式（ 原子公式（Atoms）有下列三种形式： ）有下列三种形式： 的一个元组。 ① R（s） ：s是R的一个元组。 （） 是 的一个元组 的第i个分量与元组 的第j个分量之间 ② s[i]θu[j] ：元组 s的第 个分量与元组 的第 个分量之间 的第 个分量与元组u的第 满足θ关系。 满足 关系。 关系 是常量。 ③ s[i]θa或aθu[j]：a是常量。 或 ： 是常量 在定义关系演算操作时，要用到“自由” 约束” 在定义关系演算操作时，要用到“自由” 和“约束”变量 概 念。在一个公式中，如果元组变量未用存在量词?或全称量 在一个公式中，如果元组变量未用存在量词? 词?符号定义，那么称为自由元组变量，否则称为约束元组 符号定义，那么称为自由元组变量， 变量。 变量。
    软件设计师
    例：已知关系R，S，给出R1-R5五个关系的元 已知关系R 给出R1-R5五个关系的元 R1 组关系演算表达式。 组关系演算表达式。
    R1 = { t | S（t）∧t[1]>2 } （）
    软件设计师
    R2 = { t | R（t）∧┐S（t）} （） （）
    软件设计师
    R3
    R3 = { t |（?u）（ （t）∧R（u）∧t[3]u[1]）} ）（R（ ） （ ）（ （ ） ）
    软件设计师
    R5 = { t |（?u）（?v）（ （u）∧ S（v） ）（? ）（R（ ） （ ）（ ）（ （ ） ∧u[1]>v[2]∧t[1]=u[2]∧t[2]=v[3]∧t[3]=u[1]）} ∧ ∧ ∧ ）
    软件设计师
    关系代数表达式到元组表达式的转换： 关系代数表达式到元组表达式的转换：
    R∪S 可用 t | R（t）∨S（t）}表示； ∪ 可用{ 表示； （） （ ） 表示 R-S 可用 t | R（t）∧┐S（t）} 表示； 可用{ （） （ ） 表示； R×S可用 t |（?u）（?v）（R（u）∧S(v) ∧t[1]=u[1] × 可用 （ ） 可用{ ） （ ） ∧t[2]=u[2]∧t[3]=u[3]∧t[4]=v[1]∧t[5]=v[2] ∧t[6]=v[3]）} ∧ ∧ ∧ ） 表示。 表示。 投影操作是π 投影操作是 2,3（R），那么元组表达式可写成： ） 那么元组表达式可写成： { t |(?u)（R（u）∧t[l]=u[2]∧t[2]=u[3]）} ? （ （ ） ∧ ） σF（R）可用 t |R(t)∧F‘}表示，F’是F的等价表示形式。 表示， 是 的等价表示形式 的等价表示形式。 ）可用{ ∧ 表示 例如σ 例如 2='d'（R）可写成 t |（R（t）∧t[2]='d'）。 （ ）可写成{ （ （ ） ）。
    软件设计师
    软件设计师考试2005 2005年 月上午试题36 37】 36、 【软件设计师考试2005年5月上午试题36、37】
    某数据库中有供应商关系S和零件关系P 其中； 某数据库中有供应商关系S和零件关系P，其中；供应商 关系模式S Sno，Sname，Szip，City） 关系模式S（Sno，Sname，Szip，City）,零件关系模式 P（Pno，Pname，Color，Weight，City），供应模式 Pno，Pname，Color，Weight，City），供应模式 ）， SP(Sno， Status，Qty)， SP(Sno，Pno, Status，Qty)，要求一个供应商可以供应多 种零件，而一种零件可由多个供应商供应。 种零件，而一种零件可由多个供应商供应。 查询供应了“ 查询供应了“红”色零件的供应商名、零件号和数量的 色零件的供应商名、 元组演算表达式为： 元组演算表达式为： {t|(?u)(?v)(? {t|(?u)(?v)(?w)( (36) ∧u[1]=v[1]∧v[2]=w[1]∧w[3]=' 红'∧ (37) )}
    软件设计师
    (36) A. S(u)∧SP(v)∧P(w) B. SP(u)∧S(v)∧P(w) C. P(u)∧SP(v)∧S(w) D. S(u)∧P(v)∧SP(w) (37) A.t[1]=u[1]∧t[2]=w[2]∧t[3]=v[4] B. t[1]=v[1]∧t[2]=u[2]∧t[3]=u[4] C. t[1]=w[1]∧t[2]=u[2]∧t[3]=v[4] D. t[1]=u[2]∧t[2]=v[2]∧t[3]=v[4]
    软件设计师
    关系数据库SQL语言 关系数据库SQL语言 SQL ? SQL的数据定义 SQL的数据定义 ? SQL的数据查询 SQL的数据查询 ? SQL的数据更新 SQL的数据更新
    软件设计师
    软件设计师考试2005 11月上午试题33、34】 2005年 月上午试题33 【软件设计师考试2005年11月上午试题33、34】
    关系R 关系R，S如下图所示，元组演算表达式 如下图所示， {t|(?u)（ u[1])}的结果为 {t|(?u)（R(t)∧S(u)∧t[3]u[1])}的结果为 (47)
    软件设计师
    软件设计师
    SQL的数据定义――创建表 SQL的数据定义――创建表 的数据定义――
    <表名 表名> 表名 <完整性约束条件 完整性约束条件1>, 完整性约束条件 <完整性约束条件 完整性约束条件2>, 完整性约束条件 <完整性约束条件 完整性约束条件n> 完整性约束条件
    CREATE TABLE ( <列名 列名1> 列名 <列名 列名2> 列名 ………… , <列名 列名n> 列名 )
    <数据类型 数据类型> 数据类型 <数据类型 数据类型> 数据类型 <数据类型 数据类型> 数据类型
    软件设计师
    涉及相应属性列的完整性约束条件： 涉及相应属性列的完整性约束条件： 主键约束： 主键约束：PRIMARY KEY 检查约束：CHECK 检查约束： 外键约束： 外键约束：FOREIGN KEY 唯一性约束： 唯一性约束： UNIQUE 是否为空值约束： 是否为空值约束： NULL / NOT NULL 默认值： 默认值： DEFAULT
    软件设计师
    使用T SQL语言创建 语言创建Student 例：使用T-SQL语言创建Student 表 Student（ Student（Sno , Sname, Ssex ） CREATE TABLE Student (sno CHAR(10) PRIMARY KEY , sname CHAR(8) NOT NULL UNIQUE, ssex CHAR(2) DEFAULT ('男') 男 )
    软件设计师
    使用T SQL语言创建Crouse表 语言创建Crouse 例：使用T-SQL语言创建Crouse表 cno，cname， Crouse （cno，cname， credit ） CREATE TABLE Course ( cno char(10) PRIMARY KEY, cname char (8) NOT NULL UNIQUE, credit int )
    软件设计师
    使用T SQL语言创建SC表 语言创建SC 例：使用T-SQL语言创建SC表 sno，cno，score） SC （ sno，cno，score）
    主键表名
    CREATE TABLE SC ( sno CHAR(10) FOREIGN KEY REFERENCES Student (sno), cno CHAR(10) FOREIGN KEY REFERENCES Course (cno) , score INT CHECK (score BETWEEN 0 AND 100) , PRIMARY KEY (sno, cno) 主键 )
    软件设计师
    CREATE TABLE SC
    ( sno CHAR(10),
    cno CHAR(10), score INT,
    PRIMARY KEY (sno, cno), FOREIGN KEY (sno) REFERENCES Student (sno), FOREIGN KEY (cno) REFERENCES Course (cno) , CHECK (score BETWEEN 0 AND 100) )
    软件设计师
    某数据库中有供应商关系S和零件关系P 其中； 某数据库中有供应商关系S和零件关系P，其中；供应商 关系模式S Sno，Sname，Szip，City） 关系模式S（Sno，Sname，Szip，City）零件关系模式 P（Pno，Pname，Color，Weight，City）要求一个供应 Pno，Pname，Color，Weight，City） 商可以供应多种零件，而一种零件可由多个供应商供应。 商可以供应多种零件，而一种零件可由多个供应商供应。 请将下面的SQL语句空缺部分补充完整。 请将下面的SQL语句空缺部分补充完整。 SQL语句空缺部分补充完整 SP（ CHAR(5)， CREATE TABLE SP（Sno CHAR(5)， CHAR(6)， Pno CHAR(6)， CHAR(8)， Status CHAR(8)， NUMERIC(9)， Qty NUMERIC(9)， __(33)__(Sno，Pno)， __(33)__(Sno，Pno)， __(34)__(Sno)， __(34)__(Sno)， __(35)__(Pno))； __(35)__(Pno))；
    软件设计师
    供选择的答案： 供选择的答案： (33)(33)-(35) A.FOREIGN KEY B.PRIMARY KEY C.FOREIGN KEY（Sno）REFERENCES S KEY（Sno） KEY（Pno） D.FOREIGN KEY（Pno）PEFERENCES P (33)A (33)C (35)D
    软件设计师
    SQL的数据查询 SQL的数据查询 数据查询语句基本格式如下： 数据查询语句基本格式如下： SELECT FROM WHERE <查询项的列表> <查询项的列表> 查询项的列表 <表名> <表名> 表名 <条件表达式> <条件表达式> 条件表达式
    软件设计师
    6个聚合函数： 个聚合函数： SUM(列名):求某一列的总和(此列的值必须是数值型) SUM(列名):求某一列的总和(此列的值必须是数值型) 列名):求某一列的总和 AVG(列名):求某一列的平均值(此列的值必须是数值型) AVG(列名):求某一列的平均值(此列的值必须是数值型) 列名):求某一列的平均值 MIN(列名):求某一列中的最小值 MIN(列名):求某一列中的最小值 列名): MAX(列名):求某一列中的最大值 MAX(列名):求某一列中的最大值 列名): COUNT(列名):传回一列中的非NULL值的个数 COUNT(列名):传回一列中的非NULL值的个数 列名):传回一列中的非NULL COUNT(*):传回符合查询条件的元组的个数 COUNT(*):传回符合查询条件的元组的个数
    软件设计师
    例：查询男生的总人数，以及他们的平均年龄。 查询男生的总人数，以及他们的平均年龄。 SELECT FROM WHERE COUNT(*), AVG(年龄) COUNT(*), AVG(年龄) 学生 性别=‘男’ 性别=
    软件设计师
    例：查询财管1班的所有学生的英语总成绩和均分。 查询财管1班的所有学生的英语总成绩和均分。 SELECT FROM WHERE SUM(c1), AVG(c1) SUM(c1), AVG(c1) 成绩 c#=‘c1’ c#=‘c1’
    软件设计师
    ORDER BY子句 子句――对查询的结果进行排序 对查询的结果进行排序 子句 SELECT语句中可以使用ORDER BY子句对查询 SELECT语句中可以使用ORDER BY子句对查询 语句中可以使用 的结果进行排序， ASC参数时为升序， DESC参数 的结果进行排序，带ASC参数时为升序，带DESC参数 参数时为升序 时为降序，不待任何参数时为默认方式――升序。 ――升序 时为降序，不待任何参数时为默认方式――升序。
    查询项的列表> SELECT <查询项的列表> 表名> FROM <表名> 条件表达式> WHERE <条件表达式> 排序表达式> [ASC DESC] ORDER BY <排序表达式> [ASC | DESC]
    软件设计师
    查询全体学生的姓名和年龄， 例：查询全体学生的姓名和年龄，年龄按降序排列 显示。 显示。 SELECT 姓名, 年龄 姓名, FROM 学生 ORDER BY 年龄 DESC
    软件设计师
    GROUP BY 子句、 HAVING 子句 子句、 ――按条件分类统计 按条件分类统计 语句中可以使用GROUP BY子句进 在SELECT语句中可以使用 语句中可以使用 子句进 行分类统计。 行分类统计。 GROUP BY子句可以将表达式的值相 子句可以将表达式的值相 同的记录归为同一组，从而进行统计。 同的记录归为同一组，从而进行统计。 语法格式如下： GROUP BY <分组表达式> 分组表达式>
    软件设计师
    HAVING 子句指定组或聚合的搜索条件，只能 子句指定组或聚合的搜索条件， 语句一起使用， 连用。 和SELECT语句一起使用，通常和 语句一起使用 通常和GROUP BY连用。 连用 语法格式如下： 语法格式如下：
    HAVING <组条件表达式> 组条件表达式>
    软件设计师
    例：查询女生每一年龄组有多少人。 查询女生每一年龄组有多少人。 年龄, count（ SELECT 年龄, count（*） FROM WHERE 学生 性别='女 性别='女' ='
    GROUP BY 年龄
    软件设计师
    查询女生每一年龄组超过10人的年龄。 10人的年龄 例：查询女生每一年龄组超过10人的年龄。 SELECT FROM WHERE 年龄, 年龄, 学生 性别='女' 性别='女 ='
    GROUP BY 年龄 HAVING COUNT(*)>10
    软件设计师
    查询平均成绩低于60分的课程。 60分的课程 例：查询平均成绩低于60分的课程。 课程号, (成绩 成绩) SELECT 课程号, AVG (成绩) FROM 成绩 GROUP BY 课程号 (成绩 成绩) HAVING AVG (成绩) <60
    软件设计师
    例:下面给一个关系模式 TNAME，ADDRESS，C#，CNAME） R（TNAME，ADDRESS，C#，CNAME） 关系模式中的属性一次表示教师姓名，教师地址， 关系模式中的属性一次表示教师姓名，教师地址，课 程编号，课程名。 程编号，课程名。分析该模式存在的问题。 TNAME t1 t1 t1 t2 t2 t3 ADDRESS a1 a1 a1 a2 a2 a3 C# c1 c2 c3 c4 c5 c6 CNAME n1 n2 n3 n4 n2 n4
    软件设计师
    有现实世界中的事实可知： 有现实世界中的事实可知： 一个教师只有一个地址（户籍所在地）； 一个教师只有一个地址（户籍所在地）； 一个教师可教若干门课程； 一个教师可教若干门课程； 每门课程只有一个教师任教。 每门课程只有一个教师任教。 即：TNAME → ADDRESS C# → CNAME C# → TNAME 于是关系模式R 于是关系模式R的主键是 C#
    软件设计师
    虽然这个模式只有四个属性， 虽然这个模式只有四个属性，但在使用过程中明显存 在下列问题。 在下列问题。 数据冗余。在上述关系中，如一名教师教多门课程， (1) 数据冗余。在上述关系中，如一名教师教多门课程， 那么这位教师的地址就要重复多次。 那么这位教师的地址就要重复多次。 (2)更新异常。由于数据的冗余， (2)更新异常。由于数据的冗余，在数据更新时会出现问 更新异常 题，例如：一个教师教三门课程，在关系中就会有三个元 例如：一个教师教三门课程， 组，如果他的地址改变了，这三个元组中的地址都要改 如果他的地址改变了， 变，若有一个元组中的地址没有更改，就造成这个教师的 若有一个元组中的地址没有更改， 地址不惟一，产生错误的信息。 地址不惟一，产生错误的信息。
    软件设计师
    (3)插入异常。在关系方法中， (3)插入异常。在关系方法中，每个关系必须用键值区分关系 插入异常 中的不同元组。如果新增加一名教师，尚未分配教学任务， 中的不同元组。如果新增加一名教师，尚未分配教学任务，那 么要存储该教师的姓名和地址到关系中去时，在属性C#和 么要存储该教师的姓名和地址到关系中去时，在属性C#和 C# CNAME上就没有值，在本例中C#是主键的一部分，键值为空的 CNAME上就没有值，在本例中C#是主键的一部分， 上就没有值 C#是主键的一部分 元组违反了实体完整性约束。 元组违反了实体完整性约束。 (4)删除异常。与插入异常相反， (4)删除异常。与插入异常相反，删除操作会引起一些信息的 删除异常 丢失。如一个教师原来有教学任务， 丢失。如一个教师原来有教学任务，目前没有安排那么要把这 个教师的所有元组都要删去， 个教师的所有元组都要删去，这样就把这个教师的姓名和地址 信息也从数据库中删去了，这也是一种不合理的现象。 信息也从数据库中删去了，这也是一种不合理的现象。
    软件设计师
    对于上述模式中存在的问题可采用分解的方法， 对于上述模式中存在的问题可采用分解的方法，将 其分解成两个模式： 其分解成两个模式： R1（TNAME，ADDRESS） R1（TNAME，ADDRESS） R2（TNAME，C#，CNAME） R2（TNAME，C#，CNAME） 那么分解后的关系模式的好坏，用什么标准来衡量 那么分解后的关系模式的好坏， 呢？ 范式：满足特定要求得关系模式。 ―― 范式：满足特定要求得关系模式。
    软件设计师
    设有关系模式R(U)，X和Y是属性集 的子 ， 和 是属性集 是属性集U的子 设有关系模式 任一具体关系， 集， r是R任一具体关系，如果对 的任意两个元组 是 任一具体关系 如果对r的任意两个元组 t1和 t2，都有 1［X］= t2［X］导致 1［Y］= t2［Y］， 都有t ］ ］导致t ］ ］， 那么称X函数决定 或 函数依赖 函数依赖X 记为X→ ， 那么称 函数决定Y或Y函数依赖X，记为 →Y， 函数决定 X→Y为模式 的一个函数依赖。 → 为模式 的一个函数依赖 为模式R的一个函数依赖。
    软件设计师
    第一范式 如果关系模式R的每个关系r 如果关系模式R的每个关系r的属性值都是不可分的原子 form，简记为1NF 1NF） 值，那么称R是第一范式（first normal form，简记为1NF）的 那么称R是第一范式（ 模式。 模式。 满足1NF的关系称为规范化的关系， 满足1NF的关系称为规范化的关系，否则称为非规范化的关 1NF的关系称为规范化的关系 系。关系数据库研究的关系都是规范化的关系。例如关系模式R 关系数据库研究的关系都是规范化的关系。例如关系模式R （NAME，ADDRESS，PHONE），如果一个人有两个电话号码 NAME，ADDRESS，PHONE），如果一个人有两个电话号码 ）， （PHONE），那么在关系中至少要出现两个元组，以便存储这两 PHONE），那么在关系中至少要出现两个元组， ），那么在关系中至少要出现两个元组 个号码。 个号码。 1NF是关系模式应具备的最起码的条件。 1NF是关系模式应具备的最起码的条件。在建立关系数据模 是关系模式应具备的最起码的条件 型时，必须将非规范化形式规范化， 型时，必须将非规范化形式规范化，
    软件设计师
    第一范式
    软件设计师
    第二范式 如果关系模式R 1NF， 如果关系模式R是1NF，且每个非主属性完全函数依赖 于候选键，那么称R是第二范式（2NF）模式。 于候选键，那么称R是第二范式（2NF）模式。如果数据库 模式中每个关系模式都是2NF 则称数据库模式为2NF 2NF， 2NF的数 模式中每个关系模式都是2NF，则称数据库模式为2NF的数 据库模式。 据库模式。 X→A成立 成立， 对于函数依赖W→A 如果存在X W→A， 对于函数依赖W→A，如果存在X?W有X→A成立，那么 W→A是局部依赖（ 局部依赖于W）；否则称W→A是 否则称W→A 称W→A是局部依赖（A局部依赖于W）；否则称W→A是完 全依赖。 全依赖。
    软件设计师
    例：现在分析以下关系，它符合第一范式。假定职工号 现在分析以下关系，它符合第一范式。 是每个职工的唯一标识，而工资完全由级别所确定。 是每个职工的唯一标识，而工资完全由级别所确定。毕 业时间由职工号和学历确定。 业时间由职工号和学历确定。 这表明：姓名、级别、工资等的取值依赖于职工号， 这表明：姓名、级别、工资等的取值依赖于职工号， 而毕业时间要由职工号和学历两个属性才能唯一确定。 而毕业时间要由职工号和学历两个属性才能唯一确定。
    软件设计师
    那么，在这个表中各个属性之间表示的相互依赖关系如图。 那么，在这个表中各个属性之间表示的相互依赖关系如图。
    存在（姓名，级别，工资）对（职工号，学历）的局部依赖 存在（姓名，级别，工资） 职工号，学历）
    软件设计师
    因此，可以拆开原来关系为以下两个关系，使之成 因此，可以拆开原来关系为以下两个关系， 为第二范式。 为第二范式。
    软件设计师
    第三范式 如果关系模式R 1NF， 如果关系模式R是1NF，且每个非主属性都不 传递依赖于R的候选键，那么称R 传递依赖于R的候选键，那么称R是第三范式 3NF）的模式。 （3NF）的模式。如果数据库模式中每个关系模 式都是3NF 则称其为3NF的数据库模式。 3NF， 3NF的数据库模式 式都是3NF，则称其为3NF的数据库模式。 如果X→Y Y→A， Y→X和 A∈Y， X→Y， 如果X→Y，Y→A，且Y→X和 A∈Y，那么称 X→A是传递依赖（ 传递依赖于X X→A是传递依赖（A传递依赖于X）。
    软件设计师
    由以上关系可以看到实际上可能很多人的级别都是技6级 由以上关系可以看到实际上可能很多人的级别都是技6 那么他们的工资都是1500 1500元 如果把技6 的，那么他们的工资都是1500元，如果把技6级的工资改为 1800元 则所有技6级的工资都要改，只要一个人改错了， 1800元，则所有技6级的工资都要改，只要一个人改错了， 就会造成同一级工资不一样的错误。 就会造成同一级工资不一样的错误。 原因就在于这些属性间存在着传递依赖关系： 原因就在于这些属性间存在着传递依赖关系： 职工号→级别，级别→ 从而使：职工号→级别→ 职工号→级别，级别→工资 从而使：职工号→级别→工资
    软件设计师
    进一步的规范化就是要消去非主属性对主关键字的传递 依赖性，变为第三范式。 依赖性，变为第三范式。 现在只要把第二范式的关系恰当拆开为几个关系即可达 目的。 目的。
    软件设计师
    【软件设计师考试2004年11月上午试题45、46】 软件设计师考试2004年11月上午试题45、46】 2004 月上午试题45
    建立一个供应商、零件数据库。其中“供应商” 建立一个供应商、零件数据库。其中“供应商”表S （Sno，Sname，Zip，City）分别表示：供应商代码、供 Sno，Sname，Zip，City）分别表示：供应商代码、 应商名、供应商邮编、供应商所在城市，其函数依赖为： 应商名、供应商邮编、供应商所在城市，其函数依赖为： Sno→（Sname，Zip， ），Zip→City Zip→City。 供应商” Sno→（Sname，Zip，City ），Zip→City。“供应商” 53） 表S属于 （53） B。 （53）A. 1NF 53） C. 3NF B. 2NF D. BCNF
    软件设计师
    数据库模式设计原则 : 关系模式R相对于函数依赖集分解成数据库模式ρ 关系模式R相对于函数依赖集分解成数据库模式ρ={R1， 一般应具有下面四项特性。 R2，……Rk }，一般应具有下面四项特性。 (1) Ρ中每个关系模式 上应有某种分时性质（3NF或 上应有某种分时性质（3NF或 BCNF） BCNF） (2)无损联接。 (2)无损联接。 无损联接 (3)保持函数的依赖集。 (3)保持函数的依赖集。 保持函数的依赖集
    软件设计师
    无损联接 是一个关系模式， 设R是一个关系模式，F是R上的一个函数依赖 分解成数据库模式ρ= ρ=｛ 集。R分解成数据库模式ρ=｛ R1，…，Rk ｝。 如果对R中满足F的每一个关系r 如果对R中满足F的每一个关系r，都有 r=πR1（r）?πR2（r）? … ?πRk（r） 那么称分解ρ相对于F 无损联接分解” 那么称分解ρ相对于F是“无损联接分解” 简称 无损分解” 否则称为“损失分解” 为“无损分解”，否则称为“损失分解”。
    软件设计师
    无损联接测试： 无损联接测试： ρ=｛ 是关系模式R 设ρ=｛ R1，R2 ｝是关系模式R的一个分 上成立的FD FD集 那么分解ρ相对于F 解，F是R上成立的FD集，那么分解ρ相对于F 是无损分解的充分必要条件是： 是无损分解的充分必要条件是： （R1∩R2）→（R1－R2） 或 （R1∩R2）→（R2－R1）。
    软件设计师
    保持函数的依赖集 保持关系模式一个分解是等价的另一个重要条 件是关系模式的函数依赖集在分解后仍在数据库模 式中保持不变。 式中保持不变。 ρ=｛ R1， 的一个分解， 设ρ=｛ R1，…，Rk ｝是R的一个分解，F是R 上的函数依赖， =F， 上的函数依赖，如果有 ∪πRi（F）=F，那么称分 解ρ保持函数依赖集F。 保持函数依赖集F
    软件设计师
    软件设计师考试2004 11月上午试题45、46】 2004年 月上午试题45 【软件设计师考试2004年11月上午试题45、46】
    关系模式R 关系模式R（U，F），其中U＝{W,X,Y,Z},F={WX→Y,W→X, ），其中U 其中 X→Z,Y→W}。关系模式R X→Z,Y→W}。关系模式R的候选建是 (45)A、 (46)C 是无损 连接并保持函数依赖的分解。 连接并保持函数依赖的分解。 45）A.W和 （45）A.W和Y B. WY C.WX 46） （46）A.p={R1(WY),R2(XZ)} B.p={R1(WZ),R2(XY)} C.p={R1(WXY),R2(XZ)} D.p={R1(WX),R2(YZ)} D.WZ
    软件设计师
    U＝{W,X,Y,Z},F={WX→Y,W→X, X→Z,Y→W} 求属性集U关于函数依赖F的属性闭包U 求属性集U关于函数依赖F的属性闭包U+。 设 W+=W 找到左边被W包含的函数依赖关系：W→X， 找到左边被W包含的函数依赖关系：W→X， W∪ 将 W+= W∪X =WX 同理：找到左边被WX包含的函数依赖关系： WX包含的函数依赖关系 同理：找到左边被WX包含的函数依赖关系：WX→Y, X→Z WX∪ 将 W+= WX∪Y∪Z =WXYZ 所以W =WXYZ， 能决定多有的属性， 所以W+=WXYZ，即W能决定多有的属性，W为候选键
    软件设计师
    U＝{W,X,Y,Z},F={WX→Y,W→X, X→Z,Y→W}

1
